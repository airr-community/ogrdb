{% extends "security/base.html" %}
{% from "security/_macros.html" import render_field_with_errors, render_field %}

{% block title %}Change Password{% endblock %}
{% block s_body %}
{% include "security/_messages.html" %}

<div class="text-center mb-4">
    <h4 class="text-primary fw-semibold">{{ _fsdomain('Change Password') }}</h4>
    <p class="text-muted mb-0">Enter your current password and choose a new one</p>
</div>

<form action="{{ url_for_security('change_password', token=change_password_token) }}" method="POST" name="change_password_form">
    {{ change_password_form.hidden_tag() }}

    <div class="mb-3">
        {{ render_field_with_errors(change_password_form.password, class="form-control", placeholder="Current password") }}
    </div>

    <div class="mb-3">
        {{ render_field_with_errors(change_password_form.new_password, class="form-control", placeholder="New password") }}
    </div>

    <div class="mb-4">
        {{ render_field_with_errors(change_password_form.new_password_confirm, class="form-control", placeholder="Confirm new password") }}
    </div>

    <div class="d-grid gap-2 mb-3">
        {{ render_field(change_password_form.submit, class="btn btn-primary btn-lg") }}
    </div>

    <div class="text-center">
        <a href="{{ url_for('index') }}" class="btn btn-outline-secondary">
            <i class="bi bi-x-circle me-1"></i> Cancel
        </a>
    </div>
</form>

{% endblock %}
